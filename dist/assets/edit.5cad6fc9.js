import"./style.c0ed6924.js";let n=window.location.href;const o=n.split("=");let c=o[1];fetch(`https://character-database.becode.xyz/characters/${c}`).then(e=>e.json()).then(e=>{image=e.image,document.querySelector("#image").src=`data:image/*;base64,${e.image}`,document.querySelector("input#name").value=e.name,document.querySelector("input#short").value=e.shortDescription,document.querySelector("textarea#description").value=e.description});document.querySelector("#image").addEventListener("change",e=>{const r=e.target.files[0],t=new FileReader;t.onloadend=()=>{image=t.result.replace("data:","").replace(/^.+,/,"")},t.readAsDataURL(r)});document.querySelector("#submit").addEventListener("click",async e=>{e.preventDefault();let r=document.querySelector("#short"),t=document.querySelector("#name"),a=document.querySelector("textarea");t=t.value,r=r.value,a=a.value,t.length==0||r.length==0||a.length==0?alert("Something is empty"):(fetch(`https://character-database.becode.xyz/characters/${c}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({image,name:t,shortDescription:r,description:a})}),alert("You have edited a character !"),window.location.href="index.html")});
